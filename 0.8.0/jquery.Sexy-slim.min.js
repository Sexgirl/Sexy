/**
 * Sexy.js v0.8
 * http://sexyjs.com/
 *
 * Copyright 2010, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://sexyjs.com/license
 */
(function(k,l,q){var h=k.location,o=h.protocol+"//"+h.hostname+(h.port!==""?":"+h.port:""),f="__",m=["html","json","jsonp","script","text","xml"],e,b;function c(i){if(!(this instanceof c)){return new c(i);}this.cfgs=[];this.setup(i);}c.prototype={setup:function(i){this.cfg=i||{};return this;},sajax:function(x){var v=this.cfgs,w=v.length,s=v[w-1],z=x.dataType,r=x.url.indexOf("http")===0&&x.url.indexOf(o)===-1,u=z==="script",i=w>0?r&&u?true:x.defer:false,A=x.success||(u?p:g),y=x.error||q.noop,n=x.complete||q.noop;v.push(q.extend(true,x,this.cfg,x,{sendAfterSend:[],dataType:!r&&u?"text":z,success:function(C,B){if(!s||f in s){if(u&&!r){q.globalEval(C);}x.status=r?"success":B;x[f]=A.call(x,C,s&&s[f],v[w+1],x.status);if(x.nextSuccess){x.nextSuccess();}else{if(x.sendAfterSuccess){x.sendAfterSuccess();}}}else{s.nextSuccess=q.proxy(function(){x.success(C,B);},x);}},error:function(D,B,C){y.call(x,D,B,C);},complete:function(C,B){n.call(x,C,B);}}));function t(){var B,C;q.ajax(x);if(x.sendAfterSend.length>0){for(B=0,C=x.sendAfterSend.length;B<C;++B){x.sendAfterSend[B]();}}}if(i){s.sendAfterSuccess=t;this.lastDefer=x;}else{if(this.lastDefer){this.lastDefer.sendAfterSend.push(t);}else{t();}}return this;},bundle:function(){var r=arguments,t=q.isFunction(r[r.length-1])?Array.prototype.pop.call(r):p,s,u;for(s=0,u=r.length-1;s<u;++s){this.text(r[s],j);}return this.text(r[s],function(w,v,n,i){var x=j(w,v);q.globalEval(x);return t(x,v,n,i);});}};function g(i){return i;}function p(n,i){return i;}function j(n,i){return(i||"")+n;}function d(i){c.prototype[i]=function(n,s,r){if(typeof n==="string"){if(typeof s!=="boolean"){r=s;s=false;}n={url:n,defer:s,success:r};}n.dataType=i;return this.sajax(n);};}for(e=0,b=m.length;e<b;++e){d(m[e]);}c.prototype.js=c.prototype.script;function a(i){c[i]=function(){return c.prototype[i].apply(new c(),arguments);};}for(e in c.prototype){a(e);}k.Sexy=q.sajax=c;})(this,this.document,this.jQuery);