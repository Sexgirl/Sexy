 /**
  * Sexy.js
  * http://sexyjs.com/
  *
  * Copyright 2010, Dave Furfero
  * Dual licensed under the MIT or GPL Version 2 licenses.
  */
(function(d){var m=location.protocol+"//"+location.hostname+(location.port!==""?":"+location.port:""),i="send-",b="success-",h="error-",j="script",k="style",l="text",e="__",n=/\S/,c;function a(p){if(!(this instanceof a)){return new a(p);}this.cfgs=[];this.setup(p);this.evt=d(this);}c=a.prototype={setup:function(p){this.cfg=p;return this;},bundle:function(){var p=arguments,r=d.isFunction(p[p.length-1])?Array.prototype.pop.call(p):o,q,s;for(q=0,s=p.length-1;q<s;++q){this.get(l,p[q],g);}return this.get(l,p[q],function(v,t,u){var w=g(v,t,u);d.globalEval(w);return r(w,t);});},get:function(z,q,p,A){if(typeof p!=="boolean"){A=p;p=false;}var B=this.evt,v=this.cfgs,x=v.length,t=x-1,w=(typeof q!=="string")?q:{url:q},s=z===j,D=z===k,u=s&&w.url.indexOf("http")===0&&w.url.indexOf(m)===-1,C=q.success||A||(s||D?o:f),y=q.error||function(){};v.push(w=d.extend(true,{},this.cfg,w,{dataType:(!u&&s||D)?l:z,success:function(G,E){var F=v[t];if(!F||e in F){if(G&&G.target===B[0]){E=G.data[1];G=G.data[0];}if(s){d.globalEval(G);}else{if(D){if(G&&n.test(G)){d("body").append('<style type="text/css">'+G+"</style>");}}}w[e]=C.call(w,G,E,F&&F[e],v[x+1]);B.trigger(b+x);}else{B.one(b+t,[G,E],w.success);}},error:function(){y.apply(w,arguments);B.trigger(h+x,arguments);}}));function r(){d.ajax(w);B.trigger(i+x);}if(u||p){B.one(b+t,r);this.defer=x;}else{if(this.defer){B.one(i+this.defer,r);}else{r();}}B.one(h+t,function(F,H,E,G){w.error.call(w,H,E,G);});return this;}};function f(p){return p;}function o(r,p,q){return q;}function g(r,p,q){return(q||"")+r;}d.each(["html","json","jsonp",j,k,l,"xml"],function(p,q){c[q]=function(r,t,s){return this.get(q,r,t,s);};});c.js=c[j];c.css=c[k];d.each(c,function(p,q){a[p]=function(){return q.apply(new a(),arguments);};});d.sajax=window.Sexy=a;})(jQuery);